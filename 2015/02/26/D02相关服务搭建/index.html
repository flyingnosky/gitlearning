<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Still On The Road</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="本文档所要搭建的D02相关的服务是基于UBUNTU14.04,对于其它系统平台的对应服务不在本文档涉及范围内.">
<meta property="og:type" content="article">
<meta property="og:title" content="Still On The Road">
<meta property="og:url" content="http://yoursite.com/2015/02/26/D02相关服务搭建/">
<meta property="og:site_name" content="Still On The Road">
<meta property="og:description" content="本文档所要搭建的D02相关的服务是基于UBUNTU14.04,对于其它系统平台的对应服务不在本文档涉及范围内.">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Still On The Road">
<meta name="twitter:description" content="本文档所要搭建的D02相关的服务是基于UBUNTU14.04,对于其它系统平台的对应服务不在本文档涉及范围内.">

  
    <link rel="alternative" href="/atom.xml" title="Still On The Road" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Still On The Road</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><input type="submit" value="&#xF002;" class="search-form-submit"><input type="hidden" name="q" value="site:http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-D02相关服务搭建" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/02/26/D02相关服务搭建/" class="article-date">
  <time datetime="2015-02-26T08:26:39.000Z" itemprop="datePublished">Feb 26 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>本文档所要搭建的D02相关的服务是基于UBUNTU14.04,对于其它系统平台的对应服务不在本文档涉及范围内.<br><a id="more"></a></p>
<h2 id="Overview">Overview</h2>
<p><a href="#FTP">1、FTP服务的搭建</a><br><a href="#TFTP">2、TFTP服务的搭建</a><br><a href="#DHCP">3、DHCP服务的搭建</a><br><a href="#NFS">4、NFS服务的搭建</a></p>
<h3 id="1、FTP服务的搭建"><span id="FTP">1、FTP服务的搭建</span></h3>
<p>(1)安装VSFTPD服务</p>
<pre><code><span class="built_in">sudo</span> apt-get install vsftpd
</code></pre><p>(2)添加修改配置文件<strong><em>/etc/vsftpd.conf</em></strong></p>
<pre><code><span class="setting">userlist_deny=<span class="value"><span class="keyword">NO</span></span></span>
<span class="setting">userlist_enable=<span class="value"><span class="keyword">YES</span></span></span>
<span class="setting">userlist_file=<span class="value">/etc/vsftpd/allowed_users</span></span>
</code></pre><p><strong><em>注意:允许访问的用户名需要放置于文件allowed_users内</em></strong><br>(3)重启服务</p>
<pre><code><span class="built_in">sudo</span> service vsftpd restart
</code></pre><p>(4)验证服务<br>在浏览器中输入所搭建的VSFTPD服务的所在主机的IP地址,并根据提示输入用户名和密码,如果能够正常进入表示服务安装正常,否则服务安装存在问题.如在浏览器中输入ftp://192.168.2.4,并输入用户名chenxiang和用户密码123456.</p>
<h3 id="2、TFTP服务的搭建"><span id="TFTP">2、TFTP服务的搭建</span></h3>
<p>(1)安装服务</p>
<pre><code><span class="built_in">sudo</span> apt-get install tftpd-hpa tftp-hpa
</code></pre><p>(2)修改配置文件<strong><em>/etc/default/tftpd-hpa</em></strong></p>
<pre><code><span class="constant">ERNAME</span>=<span class="string">"tftp"</span>
<span class="constant">TFTP_DIRECTORY</span>=<span class="string">"/var/lib/tftpboot"</span>
<span class="constant">TFTP_ADDRESS</span>=<span class="string">"0.0.0.0:69"</span>
<span class="constant">TFTP_OPTIONS</span>=<span class="string">"-l -c -s"</span>
</code></pre><p><strong><em>注意:/var/lib/tftpboot为TFTP服务的主目录</em></strong><br>(3)重启服务</p>
<pre><code><span class="built_in">sudo</span> service tftpd-hpa restart
</code></pre><p>(4)验证服务</p>
<pre><code>tftp <span class="number">127.0</span>.<span class="number">0.1</span>
<span class="built_in">get</span> xxx
<span class="keyword">put</span> xxx
</code></pre><p><strong><em>其中get表示从TFTP主目录中获取文件xxxx,put表示向TFTP主目录传输文件xxx</em></strong></p>
<h3 id="3、DHCP服务的搭建"><span id="DHCP">3、DHCP服务的搭建</span></h3>
<p>(1)安装DHCP服务</p>
<pre><code>sudo apt-get <span class="operator"><span class="keyword">install</span> isc-dhcp-<span class="keyword">server</span></span>
</code></pre><p>(2)修改编辑配置文件<strong><em>/etc/dhcp/dhcpd.conf</em></strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">$ cat /etc/dhcp/dhcpd.conf</div><div class="line"> <span class="preprocessor"># Sample /etc/dhcpd.conf</span></div><div class="line"> <span class="preprocessor"># (add your comments here)</span></div><div class="line"> default-lease-time <span class="number">600</span>;</div><div class="line"> <span class="built_in">max</span>-lease-time <span class="number">7200</span>;</div><div class="line"> <span class="built_in">option</span> subnet-mask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span>;</div><div class="line"> <span class="built_in">option</span> broadcast-address <span class="number">192.168</span><span class="number">.0</span><span class="number">.255</span>;</div><div class="line"> <span class="built_in">option</span> routers <span class="number">192.168</span><span class="number">.0</span><span class="number">.1</span>;</div><div class="line"> <span class="built_in">option</span> domain-name-servers <span class="number">192.168</span><span class="number">.0</span><span class="number">.1</span>;</div><div class="line"> <span class="built_in">option</span> domain-name <span class="string">"mydomain.example"</span>;</div><div class="line"> subnet <span class="number">192.168</span><span class="number">.0</span><span class="number">.0</span> netmask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span> {</div><div class="line">         range <span class="number">192.168</span><span class="number">.0</span><span class="number">.160</span> <span class="number">192.168</span><span class="number">.0</span><span class="number">.180</span>;</div><div class="line">         <span class="built_in">option</span> subnet-mask <span class="number">255.255</span><span class="number">.255</span><span class="number">.0</span>;</div><div class="line">         filename <span class="string">"grub2.efi"</span>;</div><div class="line"> }</div><div class="line"> <span class="preprocessor">#</span></div></pre></td></tr></table></figure>

<p>(3)修改配置文件<strong><em>/etc/default/isc-dhcp-server</em></strong></p>
<pre><code><span class="constant">INTERFACES</span>=<span class="string">"eth1"</span>
</code></pre><p>(4)重启服务</p>
<pre><code><span class="built_in">sudo</span> service isc-dhcp-server status
<span class="built_in">sudo</span> service isc-dhcp-server restart
</code></pre><h3 id="4、NFS服务的搭建"><span id="NFS">4、NFS服务的搭建</span></h3>
<p>(1)NFS安装</p>
<pre><code>sudo apt-get <span class="operator"><span class="keyword">install</span> nfs-kernel-<span class="keyword">server</span> nfs-common portmap</span>
</code></pre><p>(2)NFS配置文件修改/etc/exports<br>在配置文件末尾添加如下内容:</p>
<pre><code>/rootnfs *(rw,<span class="keyword">sync</span>,no_root_squash)
</code></pre><p>其中/rootnfs为要共享的目录,*代表允许所有的网络段访问,rw为可读写权限,sync是资料同步写入内存和硬盘,no_root_squash是nfs客户端分享目录使用者的权限,如果客户端使用的是root用户，那么对于该共享目录而言，该客户端就具有root权限.<br>(3)重启服务</p>
<pre><code><span class="built_in">sudo</span> service nfs-kernel-server restart
</code></pre><p>(4)验证服务<br>a.显示出共享出来的目录</p>
<pre><code>showmount <span class="operator">-e</span>
</code></pre><p>b.将nfs的rootnfs目录挂载到本地磁盘上</p>
<pre><code><span class="title">sudo</span> mount -t nfs <span class="url">localhost:/rootnfs</span> /mnt
</code></pre><p>c.查看挂载情况</p>
<pre><code>df
</code></pre><p>d.卸载挂载</p>
<pre><code><span class="built_in">sudo</span> umount /mnt
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2015/02/26/D02相关服务搭建/" data-id="n69c0v5ifvqsdfxo" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2015/02/26/opensuse_passwd/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          (no title)
        
      </div>
    </a>
  
  
    <a href="/2014/04/17/D02_20150413/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">D02 Hacking manual</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Basic/">Basic</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/D02/">D02</a><span class="category-list-count">2</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Basic/" style="font-size: NaNpx;">Basic</a><a href="/tags/D02/" style="font-size: NaNpx;">D02</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/04/">April 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2015/04/17/abc/">cpio Filesystem</a>
          </li>
        
          <li>
            <a href="/2015/03/20/Installatin of vim plugin/">(no title)</a>
          </li>
        
          <li>
            <a href="/2015/03/20/uncompression under linux/">(no title)</a>
          </li>
        
          <li>
            <a href="/2015/03/20/Installation of Chrome/">(no title)</a>
          </li>
        
          <li>
            <a href="/2015/03/12/D02_20150311/">D02 hacking manual v0312</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2015 flyingnosky<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css" type="text/css">

  <script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>



<script src="/js/script.js" type="text/javascript"></script>


  </div>
</body>
</html>